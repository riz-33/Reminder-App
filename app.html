<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Prayer Times</title>
</head>

<body>
    <h1>Prayer Times</h1>

    <!-- Input field for date -->
    <label for="dateInput">Select a Date:</label>
    <input type="date" id="dateInput">

    <!-- Button to get prayer times -->
    <button onclick="getPrayerTimes()">Get Prayer Times</button>

    <!-- Display results -->
    <h2>Prayer Times:</h2>
    <ul id="prayerTimesList">
        <!-- Prayer times will be injected here -->
    </ul>

    <script>
        const latitude = 24.8607; // Set your latitude
        const longitude = 67.0011; // Set your longitude
        const method = 1; // ISNA method

        function getPrayerTimes() {
            // Get the date input value
            let targetDate = document.getElementById("dateInput").value;

            // Determine the API URL (use current date if no date is selected)
            let apiUrl = targetDate ?
                // `https://api.aladhan.com/v1/timings/${targetDate}?latitude=24.8607&longitude=67.0011&method=1&school=1` :
                `http://api.aladhan.com/v1/timings/${targetDate}?latitude=24.8607&longitude=67.0011&method=1&school=1`:
            `https://api.aladhan.com/v1/timings?latitude=24.8607&longitude=67.0011&method=1&school=1`;
            // const apiEndpoint = 'https://api.aladhan.com/v1/timingsByCity?city=Karachi&country=Pakistan&method=1&school=1';

            // Fetch prayer times from the API
            fetch(apiUrl)
                .then(response => response.json())
                .then(data => displayPrayerTimes(data.data.timings))
                .catch(error => console.error("Error fetching prayer times:", error));
        }

        function displayPrayerTimes(timings) {
            // Get the prayer times list element
            const prayerTimesList = document.getElementById("prayerTimesList");

            // Clear any existing content
            prayerTimesList.innerHTML = '';

            // Populate the list with prayer times
            for (const prayer in timings) {
                let listItem = document.createElement("li");
                listItem.textContent = `${prayer}: ${timings[prayer]}`;
                prayerTimesList.appendChild(listItem);
            }
        }

        // Fetch prayer times for the current date on page load
        window.onload = getPrayerTimes;
    </script>
</body>

</html>